!function(){angular.module("Controllers",["Sections","Food"])}(),function(){var e=angular.module("Food",["Services"]);e.controller("FoodCtrl",["$scope","menu",function(e,t){e.foodList=t.getFoodList(e.appstate.section),e.selectSection=function(t){e.appstate.section=t,e.appstate.currentView="foodList"}}])}(),function(){var e=angular.module("RMT",["Services","Controllers"]);e.controller("RMTCtrl",["$scope","waiter","menu",function(e,t,n){e.appstate={room:0,currentView:"table-selection"},n.getSections().then(function(e){var t=n.getFoodList(e[2]);console.log(t)});var o=t.createOrder(),r=t.createOrder(),a={name:"Pizza",price:7.1},u={name:"Minestrone",price:4};o.addFood({food:a,quantity:2,note:"No pom"}),r.addFood({food:u,quantity:1}),t.sendOrder(o),t.sendOrder(r)}]),e.controller("TablesCtrl",["$scope","restaurant",function(e,t){for(var n=[],o=0;3>o;o+=1){var r={};r.id=o,r.tables=[];for(var a=0;5>a;a+=1)r.tables.push({id:a});n.push(r)}e.selectTable=function(t){e.appstate.table=t,e.appstate.currentView="sections"},e.rooms=n,e.tables=n[0].tables}])}(),function(){var e=angular.module("Sections",["Services"]);e.controller("SectionsCtrl",["$scope","menu",function(e,t){t.getSections().then(function(t){e.sections=t}),e.selectSection=function(t){e.appstate.section=t,e.appstate.currentView="food"}}])}(),function(){var e=angular.module("Menu",[]);e.factory("menu",["$http",function(e){function t(e){var t=new Promise(function(t,o){Papa.parse(e,{download:!0,complete:function(e){var o;$.each(e.data,function(e,t){var r,a=t.length;for(r=0;a>r;r++)t[r]&&t.push(t[r]);if(t.splice(0,a),0!==t.length)if(1==t.length)o=t[0],n[o]=[];else{var u={name:t[0],price:t[1]};n[o].push(u)}}),t(n)}})});return t}var n={},o=t("/assets/menu/menu_parsable.csv");return{getSections:function(){return o.then(function(e){return Object.getOwnPropertyNames(e)})},getFoodList:function(e){return n[e]}}}])}(),function(){var e=angular.module("Order",[]);e.factory("orderGenerator",function(){var e=function(){var e=0,t=[];return{getContent:function(){return{content:t,total:e}},getCount:function(){return t.length},addFood:function(n){var o={food:n.food,quantity:n.quantity,note:n.note||void 0};t.push(o),e+=n.quantity*n.food.price}}};return{createOrder:function(){return new e}}})}(),function(){var e=angular.module("Restaurant",[]);e.factory("restaurant",function(){var e=[];return{getRooms:function(){return e},getTables:function(t){var n=e.indexOf(t);return e[n].tables}}})}(),function(){angular.module("Services",["Waiter","Restaurant","Menu"])}(),function(){var e=angular.module("Waiter",["Order"]);e.factory("waiter",["orderGenerator",function(e){var t=[];return{createOrder:function(n){var o=e.createOrder();return t.push(o),o},deleteOrder:function(e){var n=t.indexOf(e);t.splice(n,1)},sendOrder:function(e){var t=e.getContent();console.log("foods: ",e.getCount()),console.log("list of foods: ",t)}}}])}();