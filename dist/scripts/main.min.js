!function(){var t=angular.module("Menu",[]);t.factory("menu",["$http",function(t){function e(t){var e=new Promise(function(e,o){Papa.parse(t,{download:!0,complete:function(t){var o;$.each(t.data,function(t,e){var r,a=e.length;for(r=0;a>r;r++)e[r]&&e.push(e[r]);if(e.splice(0,a),0!==e.length)if(1==e.length)o=e[0],n[o]=[];else{var u={name:e[0],price:e[1]};n[o].push(u)}}),e(n)}})});return e}var n={},o=e("/assets/menu/menu_parsable.csv");return{getSections:function(){return o.then(function(t){return Object.getOwnPropertyNames(t)})},getFoodList:function(t){return n[t]}}}])}(),function(){var t=angular.module("Order",[]);t.factory("orderGenerator",function(){var t=function(){var t=0,e=[];return{getContent:function(){return{content:e,total:t}},getCount:function(){return e.length},addFood:function(n){var o={food:n.food,quantity:n.quantity,note:n.note||void 0};e.push(o),t+=n.quantity*n.food.price}}};return{createOrder:function(){return new t}}})}(),function(){var t=angular.module("Restaurant",[]);t.factory("restaurant",function(){for(var t=[],e=0,n=0;3>n;n+=1){var o={};o.id=n,o.tables=[];for(var r=0;5>r;r+=1)o.tables.push({id:e++});t.push(o)}return{getRooms:function(){return t},getTables:function(e){var n=t.indexOf(e);return-1!=n?t[n].tables:void 0}}})}(),function(){angular.module("Services",["Waiter","Restaurant","Menu"])}(),function(){var t=angular.module("Waiter",["Order"]);t.factory("waiter",["orderGenerator",function(t){var e=[];return{createOrder:function(n){var o=t.createOrder();return e.push(o),o},deleteOrder:function(t){var n=e.indexOf(t);e.splice(n,1)},sendOrder:function(t){var e=t.getContent();console.log("foods: ",t.getCount()),console.log("list of foods: ",e)}}}])}(),function(){angular.module("Controllers",["Sections","Food"])}(),function(){var t=angular.module("Food",["Services"]);t.controller("FoodCtrl",["$scope","menu",function(t,e){t.foodList=e.getFoodList(t.appstate.section),t.selectSection=function(e){t.appstate.section=e}}])}(),function(){var t=angular.module("RMT",["Services","Controllers"]);t.controller("RMTCtrl",["$scope","waiter","menu",function(t,e,n){t.appstate=function(){var t=[];return{currentView:"table-selection",room:{},setView:function(e){t.push(this.currentView),this.currentView=e},goBack:function(){t.length&&(this.currentView=t.pop())}}}()}]),t.controller("TablesCtrl",["$scope","restaurant",function(t,e){t.selectRoom=function(n){t.appstate.room=n,t.tables=e.getTables(n)},t.selectTable=function(e){t.appstate.table=e,t.appstate.setView("sections")},t.rooms=e.getRooms(),t.tables=e.getTables(t.appstate.room)}])}(),function(){var t=angular.module("Sections",["Services"]);t.controller("SectionsCtrl",["$scope","menu",function(t,e){e.getSections().then(function(e){t.sections=e}),t.selectSection=function(e){t.appstate.section=e,t.appstate.setView("food")}}])}();